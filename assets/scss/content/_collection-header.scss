.collection-header {
	--collection-header-cols: 1;

	border-top: 1px solid $color-white;

	@include mq(screen-md) {
		--collection-header-cols: 1;
	}

	.inner {
		display: grid;
		grid-template-columns: repeat(var(--collection-header-cols), 1fr);
		grid-gap: 1px;
		width: 100%;
		background-color: $color-white;

		border-bottom: 1px solid $color-white;
	}

	.image {
		position: relative;
		box-sizing: border-box;

		overflow: hidden;
		height: calc(calc(100vw / var(--collection-header-cols)) * 0.66);
		display: flex;
	}

	.effect {
		width: max-content;
		height: inherit;
		display: flex;
		align-items: flex-start;
		flex-shrink: 0;
	}

	img {
		height: 100%;
	}

	.text {
		@include bodytext();
		font-size: rem(200);
		font-weight: 300;

		box-sizing: border-box;
		white-space: pre-line;
		padding: var(--page-outer-margin);
		background-color: var(--color-background);
	}

	p {
		@include windowtitle();
		font-size: rem(100);
		font-weight: normal;
		margin-top: rem(10);

		b {
			font-weight: bold;
		}
	}

	--count: 0;

	@keyframes sweep {
		to {
			transform: translateX(-100%);
		}
	}

	&.carousel {
		.effect {
			animation: sweep calc(var(--count) * 10s) infinite linear forwards;
		}
	}

	--speed: 3s;

	@keyframes flash {
		from {
			z-index: 0;
		}
		to {
			z-index: var(--count);
		}
	}

	&.flash {
		.effect {
			height: inherit;
		}

		img {
			// animation: flash calc(var(--count) * var(--speed)) 1s linear infinite
			// 	forwards;
			position: absolute;
			object-fit: cover;
			width: 100%;
			height: 100%;

			// @for $i from 1 through 10 {
			// 	&:nth-child(#{$i}) {
			// 		animation-delay: calc(#{$i} * var(--speed) - var(--speed) + 1s);
			// 	}
			// }
		}
	}
}
