.music-player {
	@include bodytext();
	position: fixed;
	width: 400px;
	user-select: none !important;
	cursor: default;
	z-index: get-z('audio-player');
	color: var(--color-primary);

	button {
		svg {
			width: 2.5em;
			height: 2.5em;
		}

		// make hit area bigger
		&:after {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 25vw;
			height: 4em;
		}

		&.large-hit-area {
			&:after {
				width: 500px;
				height: 200px;
			}
		}

		&.small-icon {
			// the muted icon has a fucked viewbox
			svg {
				padding: 5px;
				width: 1.5em;
				height: 1.5em;
			}
		}
	}

	&__top {
		// border-bottom: rem(1) solid $color-black;
		padding: rem(9) rem(10);

		display: grid;
		grid-template: 1fr / auto 1fr;
		align-items: center;
		white-space: nowrap;

		// @keyframes swipe {
		// 	to {
		// 		transform: translateX(-100%); // slight glitch with 5
		// 	}
		// }

		// div {
		// 	overflow: hidden;
		// 	display: flex;

		// 	.title-marquee {
		// 		will-change: transform;
		// 		// width: fit-content;
		// 		font-weight: $weight-bold;
		// 		animation: swipe 10s linear infinite;
		// 		display: inline-flex;
		// 	}
		// }

		p {
			@include truncate;
			margin-top: -2px;
			padding-left: 1em;

			max-width: #{'max(calc(25vw - 5em), calc(330px - 5em))'};
		}
	}

	&__time {
		position: fixed;
		left: #{'max(25vw, 330px)'};
		top: 0;
		height: 48px;
		display: flex;
		align-items: center;
		margin-top: -2px;
	}

	// &__controls {
	// 	display: flex;
	// 	border-bottom: rem(1) solid $color-black;

	// 	.button {
	// 		cursor: pointer;

	// 		border-right: rem(1) solid $color-black;
	// 		width: rem(50);
	// 		height: rem(30);
	// 		display: inline-flex;
	// 		align-items: center;
	// 		justify-content: center;
	// 		font-size: rem(13);
	// 		line-height: 1;

	// 		&:hover {
	// 			background-color: darken($color-white, 5%);
	// 		}

	// 		svg {
	// 			width: rem(30);
	// 			height: rem(30);
	// 		}
	// 	}
	// }

	&__canvas-container {
		display: none;
		background: $color-white;
		width: 100%;
		height: rem(50);

		canvas {
			width: 100%;
			height: 100%;
		}
	}

	// &.dark {
	// }

	&.invert {
		// color: $color-black;
		filter: invert(1) contrast(1);
		mix-blend-mode: difference;
	}
}
